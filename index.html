<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinAlg Bootcamp - 선형대수 & 코사인 유사도</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .code-block {
            background: #1e293b;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="bg-slate-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <h1 class="text-2xl md:text-3xl font-bold">LinAlg Bootcamp</h1>
                </div>
                
                <nav class="hidden md:flex space-x-6">
                    <button onclick="showTab('home')" class="hover:text-purple-200 transition">홈</button>
                    <button onclick="showTab('lessons')" class="hover:text-purple-200 transition">강의</button>
                    <button onclick="showTab('practice')" class="hover:text-purple-200 transition">실습</button>
                </nav>
                
                <button onclick="toggleMobileMenu()" class="md:hidden">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-width="2" d="M3 12h18M3 6h18M3 18h18"></path>
                    </svg>
                </button>
            </div>
            
            <nav id="mobile-menu" class="mt-4 hidden flex-col space-y-2 md:hidden">
                <button onclick="showTab('home'); toggleMobileMenu();" class="text-left py-2">홈</button>
                <button onclick="showTab('lessons'); toggleMobileMenu();" class="text-left py-2">강의</button>
                <button onclick="showTab('practice'); toggleMobileMenu();" class="text-left py-2">실습</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        
        <!-- Home Tab -->
        <div id="home-tab" class="tab-content active space-y-8">
            <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-8 md:p-12 text-white">
                <h2 class="text-3xl md:text-5xl font-bold mb-4">선형대수로 시작하는 AI 여정</h2>
                <p class="text-lg md:text-xl mb-6 text-purple-100">
                    벡터부터 코사인 유사도까지, 인공지능의 수학적 기초를 직관적으로 배워보세요
                </p>
                <button onclick="showTab('lessons')" class="bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-purple-50 transition">
                    학습 시작하기
                </button>
            </div>

            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <div class="bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="16 18 22 12 16 6" stroke-width="2"></polyline>
                            <polyline points="8 6 2 12 8 18" stroke-width="2"></polyline>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">인터랙티브 학습</h3>
                    <p class="text-slate-600">직접 코드를 실행하며 개념을 체득하세요</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-md p-6">
                    <div class="bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" stroke-width="2"></polyline>
                            <polyline points="17 6 23 6 23 12" stroke-width="2"></polyline>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">시각화</h3>
                    <p class="text-slate-600">복잡한 개념을 그래프로 이해하세요</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-md p-6">
                    <div class="bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <rect x="4" y="2" width="16" height="20" rx="2" stroke-width="2"></rect>
                            <line x1="8" y1="6" x2="16" y2="6" stroke-width="2"></line>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">실시간 계산</h3>
                    <p class="text-slate-600">계산기로 즉시 결과를 확인하세요</p>
                </div>
            </div>
        </div>

        <!-- Lessons Tab -->
        <div id="lessons-tab" class="tab-content space-y-8">
            <h2 class="text-3xl font-bold text-slate-800">학습 과정</h2>
            
            <!-- Lesson 1 -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">1. 벡터의 기초</h3>
                <p class="text-slate-600 mb-6">
                    벡터는 크기와 방향을 가진 양입니다. AI와 데이터 과학의 기본 구성 요소죠.
                </p>
                
                <svg width="300" height="300" class="mx-auto border-2 border-slate-200 rounded-lg bg-white mb-6">
                    <defs>
                        <marker id="arrowhead1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
                        </marker>
                        <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                        </marker>
                    </defs>
                    <line x1="0" y1="150" x2="300" y2="150" stroke="#cbd5e1" stroke-width="1" />
                    <line x1="150" y1="0" x2="150" y2="300" stroke="#cbd5e1" stroke-width="1" />
                    <line x1="150" y1="150" x2="230" y2="30" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead1)" />
                    <text x="240" y="30" fill="#3b82f6" font-size="14" font-weight="600">v₁</text>
                    <line x1="150" y1="150" x2="110" y2="70" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead2)" />
                    <text x="100" y="60" fill="#ef4444" font-size="14" font-weight="600">v₂</text>
                </svg>
                
                <div class="mt-6">
                    <h4 class="font-semibold mb-3">Python으로 벡터 표현하기</h4>
                    <div class="code-block">import numpy as np

# 벡터 생성
v1 = np.array([2, 3])
v2 = np.array([-1, 2])

print("벡터 v1:", v1)
print("벡터 v2:", v2)

# 벡터 덧셈
v_sum = v1 + v2
print("v1 + v2 =", v_sum)  # [1, 5]</div>
                </div>
            </div>

            <!-- Lesson 2 -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">2. 내적 (Dot Product)</h3>
                <p class="text-slate-600 mb-6">
                    두 벡터의 내적은 벡터들이 얼마나 같은 방향을 가리키는지 알려줍니다.
                </p>
                
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <div class="text-center text-2xl font-mono font-bold text-blue-900 mb-2">
                        A · B = a₁b₁ + a₂b₂ + ... + aₙbₙ
                    </div>
                    <p class="text-center text-sm text-slate-600">각 성분을 곱한 후 모두 더합니다</p>
                </div>
                
                <div class="code-block">import numpy as np

A = np.array([1, 2, 3])
B = np.array([4, 5, 6])

# 내적 계산
dot_product = np.dot(A, B)
print("A · B =", dot_product)  # 32

# 수동 계산
manual = 1*4 + 2*5 + 3*6
print("수동 계산:", manual)  # 32</div>
            </div>

            <!-- Lesson 3 -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">3. 벡터의 크기</h3>
                <p class="text-slate-600 mb-6">
                    벡터의 크기는 원점에서 벡터 끝점까지의 거리입니다.
                </p>
                
                <div class="bg-green-50 rounded-lg p-6 mb-6">
                    <div class="text-center text-2xl font-mono font-bold text-green-900 mb-2">
                        |A| = √(a₁² + a₂² + ... + aₙ²)
                    </div>
                    <p class="text-center text-sm text-slate-600">피타고라스 정리의 확장</p>
                </div>
                
                <div class="code-block">import numpy as np

A = np.array([3, 4])

# 크기 계산
magnitude = np.linalg.norm(A)
print("|A| =", magnitude)  # 5.0

# 수동 계산
manual = np.sqrt(3**2 + 4**2)
print("수동 계산:", manual)  # 5.0

# 단위 벡터 (크기 1인 벡터)
unit_vector = A / magnitude
print("단위 벡터:", unit_vector)  # [0.6, 0.8]</div>
            </div>

            <!-- Lesson 4 -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">4. 코사인 유사도</h3>
                <p class="text-slate-600 mb-6">
                    두 벡터 사이의 각도 코사인 값으로, 방향의 유사성을 측정합니다. -1에서 1 사이의 값을 가집니다.
                </p>
                
                <div class="bg-purple-50 rounded-lg p-6 mb-6">
                    <div class="text-center text-2xl font-mono font-bold text-purple-900 mb-2">
                        cos(θ) = (A · B) / (|A| × |B|)
                    </div>
                    <p class="text-center text-sm text-slate-600">내적을 크기의 곱으로 나눕니다</p>
                    <div class="mt-4 grid grid-cols-3 gap-4 text-center text-sm">
                        <div>
                            <div class="font-bold text-purple-700">1.0</div>
                            <div class="text-slate-600">완전히 동일</div>
                        </div>
                        <div>
                            <div class="font-bold text-purple-700">0.0</div>
                            <div class="text-slate-600">직각 (무관)</div>
                        </div>
                        <div>
                            <div class="font-bold text-purple-700">-1.0</div>
                            <div class="text-slate-600">정반대</div>
                        </div>
                    </div>
                </div>
                
                <div class="code-block">import numpy as np
from numpy.linalg import norm

def cosine_similarity(A, B):
    """코사인 유사도 계산"""
    dot_product = np.dot(A, B)
    magnitude_A = norm(A)
    magnitude_B = norm(B)
    
    similarity = dot_product / (magnitude_A * magnitude_B)
    return similarity

# 예제
doc1 = np.array([1, 2, 3])
doc2 = np.array([4, 5, 6])
doc3 = np.array([-1, -2, -3])

print("문서1 vs 문서2:", cosine_similarity(doc1, doc2))
print("문서1 vs 문서3:", cosine_similarity(doc1, doc3))

# 실제 응용: 텍스트 유사도
# "고양이가 귀엽다" → [1, 0, 1, 0, 1]
# "강아지가 귀엽다" → [0, 1, 1, 0, 1]</div>
            </div>

            <!-- Applications -->
            <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">🚀 실제 활용 사례</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-bold text-lg mb-2">추천 시스템</h4>
                        <p class="text-sm text-slate-600">사용자의 선호도 벡터와 상품 벡터의 코사인 유사도로 맞춤 추천</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-bold text-lg mb-2">검색 엔진</h4>
                        <p class="text-sm text-slate-600">검색어와 문서의 유사도를 계산하여 관련성 높은 결과 제공</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-bold text-lg mb-2">이미지 유사도</h4>
                        <p class="text-sm text-slate-600">이미지를 벡터로 변환하여 비슷한 이미지 찾기</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-bold text-lg mb-2">자연어 처리</h4>
                        <p class="text-sm text-slate-600">단어 임베딩 벡터로 의미적 유사성 측정</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Practice Tab -->
        <div id="practice-tab" class="tab-content space-y-8">
            <h2 class="text-3xl font-bold text-slate-800 mb-6">실습하기</h2>
            
            <!-- Calculator -->
            <div class="bg-white rounded-xl shadow-lg p-6 space-y-4">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">코사인 유사도 계산기</h3>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-slate-700">벡터 A</label>
                        <input 
                            type="text" 
                            id="vectorA" 
                            value="1, 2, 3"
                            class="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-purple-500 focus:outline-none"
                            placeholder="1, 2, 3"
                            oninput="calculateSimilarity()"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-slate-700">벡터 B</label>
                        <input 
                            type="text" 
                            id="vectorB" 
                            value="4, 5, 6"
                            class="w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-purple-500 focus:outline-none"
                            placeholder="4, 5, 6"
                            oninput="calculateSimilarity()"
                        />
                    </div>
                </div>

                <div id="calc-result" class="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6"></div>
            </div>

            <!-- 2D Visualization -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-4">2D 벡터 시각화</h3>
                
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-blue-700">벡터 A (파란색)</label>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <label class="text-xs text-slate-600">x 좌표</label>
                                <input 
                                    type="number" 
                                    id="vecA-x" 
                                    value="3"
                                    step="0.5"
                                    class="w-full px-3 py-2 border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                    oninput="updateVectorVisualization()"
                                />
                            </div>
                            <div>
                                <label class="text-xs text-slate-600">y 좌표</label>
                                <input 
                                    type="number" 
                                    id="vecA-y" 
                                    value="2"
                                    step="0.5"
                                    class="w-full px-3 py-2 border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none"
                                    oninput="updateVectorVisualization()"
                                />
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-red-700">벡터 B (빨간색)</label>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <label class="text-xs text-slate-600">x 좌표</label>
                                <input 
                                    type="number" 
                                    id="vecB-x" 
                                    value="1"
                                    step="0.5"
                                    class="w-full px-3 py-2 border-2 border-red-300 rounded-lg focus:border-red-500 focus:outline-none"
                                    oninput="updateVectorVisualization()"
                                />
                            </div>
                            <div>
                                <label class="text-xs text-slate-600">y 좌표</label>
                                <input 
                                    type="number" 
                                    id="vecB-y" 
                                    value="3"
                                    step="0.5"
                                    class="w-full px-3 py-2 border-2 border-red-300 rounded-lg focus:border-red-500 focus:outline-none"
                                    oninput="updateVectorVisualization()"
                                />
                            </div>
                        </div>
                    </div>
                </div>

                <svg id="vector-canvas" width="400" height="400" class="mx-auto border-2 border-slate-200 rounded-lg bg-white">
                    <defs>
                        <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
                        </marker>
                        <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                        </marker>
                    </defs>
                    <!-- Grid lines -->
                    <line x1="0" y1="200" x2="400" y2="200" stroke="#cbd5e1" stroke-width="1" />
                    <line x1="200" y1="0" x2="200" y2="400" stroke="#cbd5e1" stroke-width="1" />
                    
                    <!-- Grid numbers -->
                    <text x="390" y="195" fill="#94a3b8" font-size="12">x</text>
                    <text x="205" y="15" fill="#94a3b8" font-size="12">y</text>
                    
                    <!-- Vectors will be drawn here by JavaScript -->
                    <g id="vector-group"></g>
                </svg>
                
                <div id="vector-info" class="mt-4 bg-slate-50 rounded-lg p-4 text-sm">
                    <!-- Vector information will be displayed here -->
                </div>
                
                <p class="text-center text-sm text-slate-600 mt-4">
                    💡 좌표 값을 변경하면 실시간으로 그래프가 업데이트됩니다
                </p>
            </div>

            <!-- Practice Problems -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-6">연습 문제</h3>
                <div class="space-y-4">
                    <div class="border-l-4 border-blue-500 pl-4 py-2">
                        <h4 class="font-semibold">문제 1</h4>
                        <p class="text-slate-600">벡터 A = [2, 4, 6]과 B = [1, 2, 3]의 코사인 유사도를 계산하세요.</p>
                        <p class="text-sm text-slate-500 mt-2">힌트: A와 B는 완벽히 같은 방향입니다!</p>
                    </div>
                    <div class="border-l-4 border-green-500 pl-4 py-2">
                        <h4 class="font-semibold">문제 2</h4>
                        <p class="text-slate-600">두 문서의 단어 빈도 벡터가 [3, 1, 0, 2]와 [1, 0, 2, 1]일 때, 유사도를 구하세요.</p>
                    </div>
                    <div class="border-l-4 border-purple-500 pl-4 py-2">
                        <h4 class="font-semibold">문제 3</h4>
                        <p class="text-slate-600">직각을 이루는 두 벡터의 코사인 유사도는 얼마일까요?</p>
                        <p class="text-sm text-slate-500 mt-2">힌트: 직각은 90도입니다. cos(90°) = ?</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-white mt-16 py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-slate-400">Made with 💜 for AI Education | LinAlg Bootcamp 2024</p>
            <p class="text-sm text-slate-500 mt-2">선형대수와 코사인 유사도를 통해 AI의 수학적 기초를 배워보세요</p>
        </div>
    </footer>

    <script>
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName + '-tab').classList.add('active');
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function calculateSimilarity() {
            try {
                const vectorA = document.getElementById('vectorA').value
                    .split(',').map(n => parseFloat(n.trim())).filter(n => !isNaN(n));
                const vectorB = document.getElementById('vectorB').value
                    .split(',').map(n => parseFloat(n.trim())).filter(n => !isNaN(n));
                
                if (vectorA.length === 0 || vectorB.length === 0 || vectorA.length !== vectorB.length) {
                    document.getElementById('calc-result').innerHTML = `
                        <div class="text-center text-red-600">⚠️ 벡터의 차원이 같아야 합니다!</div>
                    `;
                    return;
                }

                const dotProduct = vectorA.reduce((sum, a, i) => sum + a * vectorB[i], 0);
                const magnitudeA = Math.sqrt(vectorA.reduce((sum, a) => sum + a * a, 0));
                const magnitudeB = Math.sqrt(vectorB.reduce((sum, b) => sum + b * b, 0));
                const similarity = dotProduct / (magnitudeA * magnitudeB);
                const angle = Math.acos(Math.max(-1, Math.min(1, similarity))) * (180 / Math.PI);

                let similarityText = '';
                if (similarity > 0.9) similarityText = '매우 유사함';
                else if (similarity > 0.7) similarityText = '유사함';
                else if (similarity > 0.5) similarityText = '보통';
                else if (similarity > 0) similarityText = '다소 다름';
                else if (similarity > -0.5) similarityText = '매우 다름';
                else similarityText = '정반대';

                document.getElementById('calc-result').innerHTML = `
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div><span class="text-slate-600">내적:</span>
                        <span class="ml-2 font-bold text-purple-700">${dotProduct.toFixed(2)}</span></div>
                        <div><span class="text-slate-600">|A|:</span>
                        <span class="ml-2 font-bold text-purple-700">${magnitudeA.toFixed(2)}</span></div>
                        <div><span class="text-slate-600">|B|:</span>
                        <span class="ml-2 font-bold text-purple-700">${magnitudeB.toFixed(2)}</span></div>
                        <div><span class="text-slate-600">각도:</span>
                        <span class="ml-2 font-bold text-purple-700">${angle.toFixed(2)}°</span></div>
                    </div>
                    <div class="pt-4 border-t-2 border-purple-200">
                        <div class="text-center">
                            <div class="text-sm text-slate-600 mb-2">코사인 유사도</div>
                            <div class="text-4xl font-bold text-purple-700">${similarity.toFixed(4)}</div>
                            <div class="mt-2 text-sm text-slate-500">${similarityText}</div>
                        </div>
                    </div>
                `;
            } catch (error) {
                document.getElementById('calc-result').innerHTML = `
                    <div class="text-center text-red-600">⚠️ 올바른 숫자를 입력해주세요 (예: 1, 2, 3)</div>
                `;
            }
        }

        window.addEventListener('DOMContentLoaded', calculateSimilarity);
        window.addEventListener('DOMContentLoaded', updateVectorVisualization);
        
        function updateVectorVisualization() {
            const ax = parseFloat(document.getElementById('vecA-x').value) || 0;
            const ay = parseFloat(document.getElementById('vecA-y').value) || 0;
            const bx = parseFloat(document.getElementById('vecB-x').value) || 0;
            const by = parseFloat(document.getElementById('vecB-y').value) || 0;
            
            const scale = 40; // pixels per unit
            const centerX = 200;
            const centerY = 200;
            
            // Calculate end points
            const aEndX = centerX + ax * scale;
            const aEndY = centerY - ay * scale;
            const bEndX = centerX + bx * scale;
            const bEndY = centerY - by * scale;
            
            // Calculate magnitudes
            const magA = Math.sqrt(ax * ax + ay * ay);
            const magB = Math.sqrt(bx * bx + by * by);
            
            // Calculate dot product and cosine similarity
            const dotProduct = ax * bx + ay * by;
            const cosSim = magA > 0 && magB > 0 ? dotProduct / (magA * magB) : 0;
            const angle = magA > 0 && magB > 0 ? Math.acos(Math.max(-1, Math.min(1, cosSim))) * (180 / Math.PI) : 0;
            
            // Update SVG
            const vectorGroup = document.getElementById('vector-group');
            
            // Clear previous vectors
            vectorGroup.innerHTML = '';
            
            // Draw vector A
            if (magA > 0) {
                const lineA = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                lineA.setAttribute('x1', centerX);
                lineA.setAttribute('y1', centerY);
                lineA.setAttribute('x2', aEndX);
                lineA.setAttribute('y2', aEndY);
                lineA.setAttribute('stroke', '#3b82f6');
                lineA.setAttribute('stroke-width', '3');
                lineA.setAttribute('marker-end', 'url(#arrow-blue)');
                vectorGroup.appendChild(lineA);
                
                const textA = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                textA.setAttribute('x', aEndX + 10);
                textA.setAttribute('y', aEndY);
                textA.setAttribute('fill', '#3b82f6');
                textA.setAttribute('font-size', '16');
                textA.setAttribute('font-weight', '700');
                textA.textContent = 'A';
                vectorGroup.appendChild(textA);
            }
            
            // Draw vector B
            if (magB > 0) {
                const lineB = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                lineB.setAttribute('x1', centerX);
                lineB.setAttribute('y1', centerY);
                lineB.setAttribute('x2', bEndX);
                lineB.setAttribute('y2', bEndY);
                lineB.setAttribute('stroke', '#ef4444');
                lineB.setAttribute('stroke-width', '3');
                lineB.setAttribute('marker-end', 'url(#arrow-red)');
                vectorGroup.appendChild(lineB);
                
                const textB = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                textB.setAttribute('x', bEndX + 10);
                textB.setAttribute('y', bEndY);
                textB.setAttribute('fill', '#ef4444');
                textB.setAttribute('font-size', '16');
                textB.setAttribute('font-weight', '700');
                textB.textContent = 'B';
                vectorGroup.appendChild(textB);
            }
            
            // Draw angle arc if both vectors exist
            if (magA > 0 && magB > 0 && Math.abs(angle) > 0.1) {
                const arcRadius = 40;
                const angleA = Math.atan2(-ay, ax);
                const angleB = Math.atan2(-by, bx);
                
                const startX = centerX + arcRadius * Math.cos(angleA);
                const startY = centerY + arcRadius * Math.sin(angleA);
                const endX = centerX + arcRadius * Math.cos(angleB);
                const endY = centerY + arcRadius * Math.sin(angleB);
                
                const largeArcFlag = Math.abs(angleB - angleA) > Math.PI ? 1 : 0;
                const sweepFlag = angleB > angleA ? 1 : 0;
                
                const arc = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                arc.setAttribute('d', `M ${startX} ${startY} A ${arcRadius} ${arcRadius} 0 ${largeArcFlag} ${sweepFlag} ${endX} ${endY}`);
                arc.setAttribute('stroke', '#f59e0b');
                arc.setAttribute('stroke-width', '2');
                arc.setAttribute('fill', 'none');
                vectorGroup.appendChild(arc);
                
                // Angle label
                const midAngle = (angleA + angleB) / 2;
                const labelX = centerX + (arcRadius + 15) * Math.cos(midAngle);
                const labelY = centerY + (arcRadius + 15) * Math.sin(midAngle);
                
                const angleText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                angleText.setAttribute('x', labelX);
                angleText.setAttribute('y', labelY);
                angleText.setAttribute('fill', '#f59e0b');
                angleText.setAttribute('font-size', '12');
                angleText.setAttribute('font-weight', '600');
                angleText.textContent = angle.toFixed(1) + '°';
                vectorGroup.appendChild(angleText);
            }
            
            // Update info display
            const infoDiv = document.getElementById('vector-info');
            
            let similarityText = '';
            if (cosSim > 0.9) similarityText = '매우 유사함';
            else if (cosSim > 0.7) similarityText = '유사함';
            else if (cosSim > 0.5) similarityText = '보통';
            else if (cosSim > 0) similarityText = '다소 다름';
            else if (cosSim === 0) similarityText = '직각 (무관)';
            else if (cosSim > -0.5) similarityText = '매우 다름';
            else similarityText = '정반대';
            
            infoDiv.innerHTML = `
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-center">
                    <div class="bg-blue-50 rounded p-2">
                        <div class="text-xs text-slate-600">벡터 A</div>
                        <div class="font-bold text-blue-700">[${ax.toFixed(1)}, ${ay.toFixed(1)}]</div>
                        <div class="text-xs text-slate-500">크기: ${magA.toFixed(2)}</div>
                    </div>
                    <div class="bg-red-50 rounded p-2">
                        <div class="text-xs text-slate-600">벡터 B</div>
                        <div class="font-bold text-red-700">[${bx.toFixed(1)}, ${by.toFixed(1)}]</div>
                        <div class="text-xs text-slate-500">크기: ${magB.toFixed(2)}</div>
                    </div>
                    <div class="bg-purple-50 rounded p-2">
                        <div class="text-xs text-slate-600">코사인 유사도</div>
                        <div class="font-bold text-purple-700">${cosSim.toFixed(4)}</div>
                        <div class="text-xs text-slate-500">${similarityText}</div>
                    </div>
                    <div class="bg-amber-50 rounded p-2">
                        <div class="text-xs text-slate-600">각도</div>
                        <div class="font-bold text-amber-700">${angle.toFixed(1)}°</div>
                        <div class="text-xs text-slate-500">내적: ${dotProduct.toFixed(2)}</div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>